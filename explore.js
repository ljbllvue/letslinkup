 // Sample data for Link Ups
        const linkUps = [
            {
                id: 1,
                creator: "Miss Kiskeya",
                type: "Creator",
                platforms: ["OnlyFans", "Loyalfans"],
                gender: "Female",
                location: "Berlin",
                followers: "1200",
                followerCount: 1000,
                experience: "Experienced",
                contentTypes: ["G/G", "Femdom", "Fetish"],
                lookingFor: ["Woman", "Non-binary"],
                sceneTypes: ["No PIV"? "No sex"],
                tags: ["kinky", "gg", "fetish", "femdom"],
                canHost: "Yes",
                hostingCost: "Covered",
                requirements: , 
                sceneSummary: "Looking to film hot femdom scenes with queer women involving roleplay, lesbian sex but also soft and sensual domination with practices like orgasm control, pussy denial, spanking and a lot of titties action"
                shootDates: "Available from 25th September - 21th October",
                shootMonth: "2025-10",
                socialLinks: {
                    twitter: "@misskiskeya"
                }
            },
            {
                id: 2,
                creator: "Alex Chen",
                type: "Creator",
                platforms: ["OnlyFans", "Fansly"],
                gender: "Male",
                location: "New York, NY",
                followers: "10k-50k",
                followerCount: 25000,
                experience: "New",
                contentTypes: ["B/G", "Couple"],
                lookingFor: ["Woman"],
                sceneTypes: ["Sex", "PIV", "👀"],
                tags: ["bg", "couple", "vanilla"],
                canHost: "No",
                hostingCost: "N/A",
                requirements: "Experience with photography/videography preferred, must be comfortable with artistic direction",
                sceneSummary: "Professional photographer seeking collaborative content creation. Specializing in aesthetic, high-quality productions with emphasis on lighting and composition.",
                shootDates: "Flexible - April 2024",
                shootMonth: "2024-04",
                socialLinks: {
                    instagram: "@alexchen_photo",
                    twitter: "@alexchenart"
                }
            },
            {
                id: 3,
                creator: "Riley Storm",
                type: "Creator",
                platforms: ["OnlyFans", "ManyVids", "Clips4Sale"],
                gender: "Non-binary",
                location: "Miami, FL",
                followers: "25k-50k",
                followerCount: 35000,
                experience: "Experienced",
                contentTypes: ["Fetish", "Kinky"],
                lookingFor: ["Woman", "Man", "Non-binary"],
                sceneTypes: ["Sex", "No PIV", "Anal", "👀"],
                tags: ["fetish", "femdom", "kinky"],
                canHost: "Yes",
                hostingCost: "Split",
                requirements: "Open-minded, willing to explore alternative themes, must respect boundaries",
                sceneSummary: "Alternative aesthetic creator looking for unique, boundary-pushing content. Open to experimental themes and artistic expression.",
                shootDates: "March 22-25, 2024",
                shootMonth: "2024-03",
                socialLinks: {
                    instagram: "@riley_storm_",
                    twitter: "@rileystormalt"
                }
            },
            {
                id: 4,
                creator: "Diamond & Co.",
                type: "Agency",
                platforms: ["OnlyFans", "JustForFans"],
                gender: "Female",
                location: "Las Vegas, NV",
                followers: "100k+",
                followerCount: 250000,
                experience: "Veteran",
                contentTypes: ["G/G", "Group"],
                lookingFor: ["Woman"],
                sceneTypes: ["Sex", "PIV", "No PIV"],
                tags: ["gg", "group", "vanilla"],
                canHost: "Yes",
                hostingCost: "Covered",
                requirements: "Minimum 10k followers, professional portfolio required, must sign exclusivity agreement",
                sceneSummary: "Luxury content studio specializing in high-end productions. Looking for creators who want to be part of exclusive, premium content series.",
                shootDates: "Available weekly",
                shootMonth: "ongoing",
                isOngoing: true,
                socialLinks: {
                    instagram: "@diamondco_official",
                    twitter: "@diamondco_lux"
                }
            },
            {
                id: 5,
                creator: "Marco Rossi",
                type: "Creator",
                platforms: ["OnlyFans", "Pornhub"],
                gender: "Male",
                location: "Berlin, Germany",
                followers: "15k-25k",
                followerCount: 20000,
                experience: "Experienced",
                contentTypes: ["B/G", "Gay"],
                lookingFor: ["Man", "Trans Man"],
                sceneTypes: ["Sex", "PIV", "Anal"],
                tags: ["bg", "gay", "vanilla"],
                canHost: "Yes",
                hostingCost: "On you",
                requirements: "Conversational English/German, travel documents ready, cultural sensitivity appreciated",
                sceneSummary: "European creator focused on cinematic, story-driven adult content. Looking for international collaborations with creative storytellers.",
                shootDates: "May 1-15, 2024",
                shootMonth: "2024-05",
                socialLinks: {
                    instagram: "@marco.rossi.art"
                }
            },
            {
                id: 6,
                creator: "Scarlett Moon",
                type: "Creator",
                platforms: ["OnlyFans", "ManyVids"],
                gender: "Trans Woman",
                location: "London, UK",
                followers: "75k-100k",
                followerCount: 85000,
                experience: "Just Starting",
                contentTypes: ["Cosplay", "Taboo"],
                lookingFor: ["Woman", "Trans Woman"],
                sceneTypes: ["No Sex", "👀"],
                tags: ["fetish", "cosplay", "taboo"],
                canHost: "No",
                hostingCost: "N/A",
                requirements: "Must provide own costumes/props, comfortable with character roleplay, anime knowledge preferred",
                sceneSummary: "Cosplay specialist looking for themed collaborative content. Interested in fantasy, sci-fi, and anime-inspired productions.",
                shootDates: "April 10-14, 2024",
                shootMonth: "2024-04",
                socialLinks: {
                    instagram: "@scarlett_moon_cos",
                    twitter: "@scarlettmooncos"
                }
            },
            {
                id: 7,
                creator: "Tech Solutions Inc",
                type: "Studio", 
                platforms: ["LoyalFans", "JustForFans"],
                gender: "Male",
                location: "Toronto, Canada",
                followers: "5k-10k",
                followerCount: 7500,
                experience: "New",
                contentTypes: ["B/G", "Tech"],
                lookingFor: ["Woman", "Non-binary"],
                sceneTypes: ["Sex", "PIV", "👀"],
                tags: ["bg", "vanilla"],
                canHost: "Yes",
                hostingCost: "Split",
                requirements: "Must be tech-savvy, comfortable with high-end equipment",
                sceneSummary: "Technology-focused studio creating innovative adult content with cutting-edge equipment.",
                shootDates: "June 1-30, 2024",
                shootMonth: "2024-06",
                socialLinks: {
                    instagram: "@techsolutions"
                }
            },
            {
                id: 8,
                creator: "Maya Rodriguez",
                type: "Creator",
                platforms: ["Fansly", "Clips4Sale"],
                gender: "Trans Man",
                location: "Mexico City, Mexico",
                followers: "1k-10k",
                followerCount: 3500,
                experience: "Just Starting",
                contentTypes: ["Solo", "Educational"],
                lookingFor: ["Woman", "Trans Woman"],
                sceneTypes: ["No Sex", "👀"],
                tags: ["vanilla"],
                canHost: "No",
                hostingCost: "N/A",
                requirements: "LGBTQ+ friendly, educational focus preferred",
                sceneSummary: "New creator focusing on educational and inclusive content for the LGBTQ+ community.",
                shootDates: "July 15-25, 2024",
                shootMonth: "2024-07",
                socialLinks: {
                    instagram: "@maya_educator"
                }
            },
            {
                id: 9,
                creator: "Zoe & Blake Productions",
                type: "Couple",
                platforms: ["OnlyFans", "ManyVids", "Pornhub"],
                gender: "Couple",
                location: "Austin, TX",
                followers: "100k+",
                followerCount: 120000,
                experience: "Veteran",
                contentTypes: ["B/G", "Couple", "Amateur"],
                lookingFor: ["Woman", "Man", "Couple"],
                sceneTypes: ["Sex", "PIV", "Anal"],
                tags: ["bg", "couple", "vanilla"],
                canHost: "Yes",
                hostingCost: "Covered",
                requirements: "Must be comfortable with couple dynamics, willing to sign content release forms, recent STI testing required",
                sceneSummary: "Established couple creating authentic, passionate content. Looking for singles or other couples for threesome/foursome content with focus on real chemistry and connection.",
                shootDates: "August 5-12, 2024",
                shootMonth: "2024-08",
                socialLinks: {
                    instagram: "@zoeblakeproductions",
                    twitter: "@zoeblake_xxx"
                }
            },
            {
                id: 10,
                creator: "Phoenix Rising Studio",
                type: "Studio",
                platforms: ["OnlyFans", "JustForFans", "LoyalFans"],
                gender: "Mixed",
                location: "Phoenix, AZ",
                followers: "250k+",
                followerCount: 275000,
                experience: "Veteran",
                contentTypes: ["B/G", "G/G", "Group", "Fetish"],
                tags: ["bg", "gg", "group", "fetish", "kinky"],
                canHost: "Yes",
                hostingCost: "Covered",
                requirements: "Professional experience required, must have 25k+ followers, portfolio review necessary, exclusive 6-month contract",
                sceneSummary: "Premium adult content studio specializing in high-production value scenes. State-of-the-art facility with professional lighting, multiple sets, and experienced crew. Seeking established creators for ongoing collaboration series.",
                shootDates: "Available year-round",
                shootMonth: "ongoing",
                isOngoing: true,
                socialLinks: {
                    instagram: "@phoenixrisingstudio",
                    twitter: "@phoenixrising_xxx"
                }
            },
            {

                id: 11,
                creator: "Sage Wilde",
                type: "Creator",
                platforms: ["Fansly", "OnlyFans"],
                gender: "Non-binary",
                location: "Portland, OR",
                followers: "15k-25k",
                followerCount: 18500,
                experience: "Experienced",
                contentTypes: ["Solo", "Artistic", "Alternative"],
                lookingFor: ["Woman", "Non-binary", "Trans Woman"],
                sceneTypes: ["No Sex", "👀"],
                tags: ["fetish", "kinky", "vanilla"],
                canHost: "Yes",
                hostingCost: "Split",
                requirements: "Open to alternative expressions, body-positive mindset, comfortable with artistic nudity and creative direction",
                sceneSummary: "Alternative artist creating boundary-pushing content that blends eroticism with fine art. Interested in collaborative pieces that challenge conventional adult content norms while maintaining sensual appeal.",
                shootDates: "September 10-20, 2024",
                shootMonth: "2024-09",
                socialLinks: {
                    instagram: "@sagewilde_art",
                    twitter: "@sagewilde"
                }
            },
            {

                id: 12,
                creator: "Velvet Dreams Collective",
                type: "Agency",
                platforms: ["OnlyFans", "ManyVids", "Fansly"],
                gender: "Mixed",
                location: "Miami, FL",
                followers: "500k+",
                followerCount: 650000,
                experience: "Veteran",
                contentTypes: ["B/G", "G/G", "Group", "Luxury"],
                lookingFor: ["Woman", "Man"],
                sceneTypes: ["Sex", "PIV", "No PIV"],
                tags: ["bg", "gg", "group", "vanilla"],
                canHost: "Yes",
                hostingCost: "Covered",
                requirements: "Professional models only, must have 50k+ followers, exclusive representation preferred, wardrobe and styling provided",
                sceneSummary: "Elite adult entertainment collective specializing in luxury lifestyle content. We offer ongoing partnerships with top-tier creators for premium brand collaborations, yacht shoots, international travel content, and high-end production series.",
                shootDates: "Flexible scheduling - ongoing opportunities",
                shootMonth: "ongoing",
                isOngoing: true,
                socialLinks: {
                    instagram: "@velvetdreamscollective",
                    twitter: "@velvetdreams_vip"
                }
            }
        ];

        let filteredLinkUps = [...linkUps];
        let activeFilter = null;
        let advancedFilters = {
            date: '',
            availability: '',
            platform: '',
            experience: '',
            gender: '',
            followers: '',
            lookingFor: '',
            sceneType: ''
        };

        // Pagination and routing variables
        let currentPage = 1;
        const itemsPerPage = 9;
        let totalPages = 1;
        let currentLinkUpId = null;

        // Custom Dropdown Functions
        function toggleCustomDropdown(type) {
            const dropdown = document.getElementById(type + '-dropdown');
            const isVisible = dropdown.classList.contains('show');
            
            // Close all dropdowns
            document.querySelectorAll('.custom-select-dropdown').forEach(d => d.classList.remove('show'));
            
            // Toggle the clicked dropdown
            if (!isVisible) {
                dropdown.classList.add('show');
            }
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.custom-select-container')) {
                document.querySelectorAll('.custom-select-dropdown').forEach(d => d.classList.remove('show'));
            }
        });

        // Handle custom dropdown option selection
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('custom-select-option')) {
                const dropdown = e.target.parentElement;
                const input = dropdown.parentElement.querySelector('.custom-select-input');
                const value = e.target.dataset.value;
                const text = e.target.textContent;
                
                // Remove selected class from all options in this dropdown
                dropdown.querySelectorAll('.custom-select-option').forEach(opt => opt.classList.remove('selected'));
                
                // Add selected class to clicked option
                e.target.classList.add('selected');
                
                // Update input value
                input.value = text;
                input.dataset.value = value;
                
                // Close dropdown
                dropdown.classList.remove('show');
            }
        });

        // Advanced Filter Functions
        function toggleFilterBar() {
            const filterGrid = document.getElementById('filterGrid');
            const toggleBtn = document.querySelector('.filter-toggle-btn');
            const filterActions = document.querySelector('.filter-actions');
            
            if (filterGrid.style.display === 'none') {
                filterGrid.style.display = 'grid';
                filterActions.style.display = 'flex';
                toggleBtn.textContent = 'Hide Filters';
            } else {
                filterGrid.style.display = 'none';
                filterActions.style.display = 'none';
                toggleBtn.textContent = 'Show Filters';
            }
        }

        // Initialize Flatpickr month picker
        function initializeDatePicker() {
            // Wait for DOM to be ready and check if flatpickr is available
            if (typeof flatpickr !== 'undefined' && typeof monthSelectPlugin !== 'undefined') {
                try {
                    flatpickr("#filterDate", {
                        plugins: [
                            new monthSelectPlugin({
                                shorthand: true,
                                dateFormat: "Y-m",
                                altFormat: "F Y",
                                theme: "light"
                            })
                        ],
                        onChange: function(selectedDates, dateStr, instance) {
                            // Apply filters when date changes
                            applyAdvancedFilters();
                        }
                    });
                } catch (error) {
                    console.log('Flatpickr initialization failed, using native month input:', error);
                    // Fallback to native month input change listener
                    document.getElementById('filterDate').addEventListener('change', function() {
                        applyAdvancedFilters();
                    });
                }
            } else {
                console.log('Flatpickr not available, using native month input');
                // Fallback to native month input change listener
                document.getElementById('filterDate').addEventListener('change', function() {
                    applyAdvancedFilters();
                });
            }
        }

        function clearAllFilters() {
            // Clear advanced filters
            const dateInput = document.getElementById('filterDate');
            
            // Clear both native month input and Flatpickr if present
            dateInput.value = '';
            if (dateInput._flatpickr) {
                dateInput._flatpickr.clear();
            }
            
            // Clear custom dropdowns
            const customInputs = ['filterAvailability', 'filterPlatform', 'filterExperience', 'filterGender', 'filterFollowers', 'filterLookingFor', 'filterSceneType'];
            customInputs.forEach(inputId => {
                const input = document.getElementById(inputId);
                const dropdown = input.parentElement.querySelector('.custom-select-dropdown');
                
                // Reset to first option (All...)
                const firstOption = dropdown.querySelector('.custom-select-option');
                input.value = firstOption.textContent;
                input.dataset.value = firstOption.dataset.value;
                
                // Remove selected class from all options
                dropdown.querySelectorAll('.custom-select-option').forEach(opt => opt.classList.remove('selected'));
                firstOption.classList.add('selected');
            });
            
            // Clear search
            document.getElementById('citySearch').value = '';
            
            // Clear tag filters
            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.classList.remove('active');
            });
            
            // Reset filter objects
            advancedFilters = {
                date: '',
                availability: '',
                platform: '',
                experience: '',
                gender: '',
                followers: '',
                lookingFor: '',
                sceneType: ''
            };
            activeFilter = null;
            
            // Reset pagination and apply filters
            currentPage = 1;
            applyAllFilters();
        }

        function applyAdvancedFilters() {
            // Get advanced filter values from custom dropdowns
            advancedFilters.date = document.getElementById('filterDate').value;
            advancedFilters.availability = document.getElementById('filterAvailability').dataset.value || '';
            advancedFilters.platform = document.getElementById('filterPlatform').dataset.value || '';
            advancedFilters.experience = document.getElementById('filterExperience').dataset.value || '';
            advancedFilters.gender = document.getElementById('filterGender').dataset.value || '';
            advancedFilters.followers = document.getElementById('filterFollowers').dataset.value || '';
            advancedFilters.lookingFor = document.getElementById('filterLookingFor').dataset.value || '';
            advancedFilters.sceneType = document.getElementById('filterSceneType').dataset.value || '';
            
            applyAllFilters();
        }

        function matchesLookingForFilter(lookingFor, filterLookingFor) {
            if (!filterLookingFor) return true;
            return lookingFor && lookingFor.includes(filterLookingFor);
        }

        function matchesSceneTypeFilter(sceneTypes, filterSceneType) {
            if (!filterSceneType) return true;
            return sceneTypes && sceneTypes.includes(filterSceneType);
        }

        function matchesAvailabilityFilter(linkUp, availabilityFilter) {
            if (!availabilityFilter) return true;
            
            if (availabilityFilter === 'ongoing') {
                return linkUp.isOngoing === true || linkUp.shootMonth === 'ongoing';
            }
            
            return true;
        }

        function matchesFollowerRange(followerCount, range) {
            if (!range) return true;
            
            const [min, max] = range.split('-').map(num => parseInt(num));
            return followerCount >= min && followerCount <= max;
        }

        function matchesDateFilter(shootMonth, filterDate) {
            if (!filterDate) return true;
            return shootMonth === filterDate;
        }

        function matchesPlatformFilter(platforms, filterPlatform) {
            if (!filterPlatform) return true;
            return platforms.includes(filterPlatform);
        }

        function applyAllFilters() {
            const searchTerm = document.getElementById('citySearch').value.toLowerCase().trim();
            
            filteredLinkUps = linkUps.filter(linkUp => {
                // Search term filter
                const matchesSearch = !searchTerm || linkUp.location.toLowerCase().includes(searchTerm);
                
                // Tag filter
                const matchesTag = !activeFilter || linkUp.tags.includes(activeFilter);
                
                // Advanced filters
                const matchesDate = matchesDateFilter(linkUp.shootMonth, advancedFilters.date);
                const matchesAvailability = matchesAvailabilityFilter(linkUp, advancedFilters.availability);
                const matchesPlatform = matchesPlatformFilter(linkUp.platforms, advancedFilters.platform);
                const matchesExperience = !advancedFilters.experience || linkUp.experience === advancedFilters.experience;
                const matchesGender = !advancedFilters.gender || linkUp.gender === advancedFilters.gender;
                const matchesFollowers = matchesFollowerRange(linkUp.followerCount, advancedFilters.followers);
                const matchesLookingFor = matchesLookingForFilter(linkUp.lookingFor, advancedFilters.lookingFor);
                const matchesSceneType = matchesSceneTypeFilter(linkUp.sceneTypes, advancedFilters.sceneType);
                
                return matchesSearch && matchesTag && matchesDate && matchesAvailability && 
                       matchesPlatform && matchesExperience && matchesGender && matchesFollowers &&
                       matchesLookingFor && matchesSceneType;
            });
            
            // Reset to page 1 when filters change
            currentPage = 1;
            
            // Update pagination and render
            updatePagination();
            renderCurrentPage();
        }

        function updatePagination() {
            totalPages = Math.ceil(filteredLinkUps.length / itemsPerPage);
            if (totalPages === 0) totalPages = 1; // Always show at least 1 page
            
            // Ensure current page is valid
            if (currentPage > totalPages) {
                currentPage = totalPages;
            }
            
            renderPagination();
        }

        function renderPagination() {
            const paginationDiv = document.getElementById('pagination');
            
            // Always show pagination info for debugging
            console.log(`Pagination: ${filteredLinkUps.length} total items, ${totalPages} pages, current page ${currentPage}`);
            
            // Don't show pagination if only 1 page
            if (totalPages <= 1) {
                paginationDiv.style.display = 'none';
                return;
            }
            
            paginationDiv.style.display = 'flex';
            
            let paginationHTML = '';
            
            // Previous button
            const prevDisabled = currentPage === 1;
            paginationHTML += `<button onclick="goToPage(${currentPage - 1})" ${prevDisabled ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>← Previous</button>`;
            
            // Page numbers (limit to reasonable number of page buttons)
            const maxVisiblePages = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
            let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
            
            // Adjust start if we're near the end
            if (endPage - startPage < maxVisiblePages - 1) {
                startPage = Math.max(1, endPage - maxVisiblePages + 1);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                const activeClass = i === currentPage ? 'active' : '';
                paginationHTML += `<button onclick="goToPage(${i})" class="${activeClass}">Page ${i}</button>`;
            }
            
            // Next button
            const nextDisabled = currentPage === totalPages;
            paginationHTML += `<button onclick="goToPage(${currentPage + 1})" ${nextDisabled ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>Next →</button>`;
            
            paginationDiv.innerHTML = paginationHTML;
        }

        function renderCurrentPage() {
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const currentPageItems = filteredLinkUps.slice(startIndex, endIndex);
            
            console.log(`Rendering page ${currentPage}: showing items ${startIndex + 1}-${Math.min(endIndex, filteredLinkUps.length)} of ${filteredLinkUps.length}`);
            console.log('Current page items:', currentPageItems.length);
            
            renderLinkUps(currentPageItems);
        }

        function goToPage(page) {
            console.log(`Attempting to go to page ${page} (valid range: 1-${totalPages})`);
            
            if (page < 1 || page > totalPages) {
                console.log('Invalid page number, aborting');
                return;
            }
            
            currentPage = page;
            renderCurrentPage();
            renderPagination();
            
            // Scroll to top of results
            document.getElementById('linkUpsGrid').scrollIntoView({ behavior: 'smooth' });
        }

        function renderLinkUps(linkUpsToRender = filteredLinkUps) {
            const grid = document.getElementById('linkUpsGrid');
            grid.innerHTML = '';

            linkUpsToRender.forEach(linkUp => {
                const card = document.createElement('div');
                card.className = 'link-up-card';
                card.onclick = () => openLinkUpPage(linkUp.id);
                
                // Social links HTML
                let socialLinksHtml = '';
                if (linkUp.socialLinks) {
                    if (linkUp.socialLinks.instagram) {
                        socialLinksHtml += `<a href="https://instagram.com/${linkUp.socialLinks.instagram.replace('@', '')}" target="_blank" class="social-link" onclick="event.stopPropagation();">📷 ${linkUp.socialLinks.instagram}</a>`;
                    }
                    if (linkUp.socialLinks.twitter) {
                        socialLinksHtml += `<a href="https://twitter.com/${linkUp.socialLinks.twitter.replace('@', '')}" target="_blank" class="social-link" onclick="event.stopPropagation();">🐦 ${linkUp.socialLinks.twitter}</a>`;
                    }
                }
                
                card.innerHTML = `
                    <div class="card-content">
                        <div class="card-header">
                            <div class="creator-info">
                                <div class="creator-name">${linkUp.creator}</div>
                                <div class="creator-type">${linkUp.type}</div>
                                <div class="social-links">
                                    ${socialLinksHtml}
                                </div>
                            </div>
                            <div class="follower-tag">${linkUp.followers}</div>
                        </div>
                        <div class="card-info">
                            <div class="info-row">
                                <span class="info-label">Platforms:</span>
                                <div class="info-value">
                                    <div class="platforms">
                                        ${linkUp.platforms.map(platform => `<span class="platform-tag">${platform}</span>`).join('')}
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Gender:</span>
                                <span class="info-value">${linkUp.gender}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Location:</span>
                                <span class="info-value">${linkUp.location}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Can Host?</span>
                                <span class="info-value">${linkUp.canHost}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Hosting Cost:</span>
                                <span class="info-value">${linkUp.hostingCost}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Content:</span>
                                <div class="info-value">
                                    <div class="content-types">
                                        ${linkUp.contentTypes.map(type => `<span class="content-tag">${type}</span>`).join('')}
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Looking For:</span>
                                <div class="info-value">
                                    <div class="content-types">
                                        ${(linkUp.lookingFor || []).map(type => `<span class="looking-tag">${type}</span>`).join('')}
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Scene Types:</span>
                                <div class="info-value">
                                    <div class="content-types">
                                        ${(linkUp.sceneTypes || []).map(type => `<span class="scene-tag">${type}</span>`).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="scene-summary">${linkUp.sceneSummary}</div>
                        <div class="requirements-section">
                            <strong>Requirements:</strong> ${linkUp.requirements}
                        </div>
                        <div class="shoot-dates"><strong>Shoot Dates:</strong> ${linkUp.shootDates}</div>
                        <button class="interested-btn" onclick="event.stopPropagation(); openInterestModal(${linkUp.id})">I'm Interested</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openInterestModal(linkUpId) {
            const linkUp = linkUps.find(lu => lu.id === linkUpId);
            if (!linkUp) return;

            document.getElementById('linkUpId').value = linkUpId;
            document.getElementById('targetCreatorName').value = linkUp.creator;
            document.getElementById('targetCreator').textContent = linkUp.creator;
            
            document.getElementById('interestModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('interestModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            document.getElementById('interestForm').reset();
        }

        // Shoot Your Shot Modal Functions
        function openShootShotModal() {
            document.getElementById('shootShotModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Load saved data and set current month/year after modal is opened
            setTimeout(() => {
                loadSavedShootData();
                setShootCurrentMonthYear();
            }, 100);
        }

        function closeShootShotModal() {
            document.getElementById('shootShotModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            document.getElementById('shootShotForm').reset();
        }

        /* MOBILE MENU - JavaScript for Mobile Menu Functionality */

        // Mobile menu toggle
        const mobileToggle = document.getElementById('mobileToggle');
        const navMenu = document.getElementById('navMenu');

        mobileToggle.addEventListener('click', () => {
            mobileToggle.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!mobileToggle.contains(e.target) && !navMenu.contains(e.target)) {
                mobileToggle.classList.remove('active');
                navMenu.classList.remove('active');
            }
        });

        // Close mobile menu when clicking a nav link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                mobileToggle.classList.remove('active');
                navMenu.classList.remove('active');
            });
        });

        // Filter tag functionality
        document.querySelectorAll('.filter-tag').forEach(tag => {
            tag.addEventListener('click', function() {
                const filter = this.dataset.filter;
                
                // Toggle active state
                if (this.classList.contains('active')) {
                    this.classList.remove('active');
                    activeFilter = null;
                } else {
                    // Remove active from all tags
                    document.querySelectorAll('.filter-tag').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    activeFilter = filter;
                }
                
                applyAllFilters();
            });
        });

        function applyFilters() {
            applyAllFilters();
        }

        // Search functionality
        document.getElementById('citySearch').addEventListener('input', function(e) {
            applyAllFilters();
        });

        // Form submission
        document.getElementById('interestForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Here you would typically send the form data to your backend
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            
            // For demo purposes, just show an alert
            alert('Interest submitted successfully! The creator will be notified.');
            closeModal();
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(e) {
            const interestModal = document.getElementById('interestModal');
            const shootShotModal = document.getElementById('shootShotModal');
            
            if (e.target === interestModal) {
                closeModal();
            }
            if (e.target === shootShotModal) {
                closeShootShotModal();
            }
        });

        // Handle escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
                closeShootShotModal();
                closeLinkUpDetails();
            }
        });

        // Handle browser back/forward buttons
        window.addEventListener('popstate', function(e) {
            handleURLChange();
        });

        // Handle direct URL access
        window.addEventListener('load', function() {
            handleURLChange();
        });

        // Newsletter Form Submission
        document.getElementById('newsletterForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = this.querySelector('.newsletter-input').value;
            const gdprConsent = document.getElementById('gdprConsent').checked;
            
            if (!gdprConsent) {
                alert('Please agree to receive marketing emails to subscribe.');
                return;
            }
            
            // Here you would typically send the email to your backend
            console.log('Newsletter subscription:', { email, gdprConsent });
            alert('Thank you for subscribing! You\'ll receive updates about new collaboration opportunities.');
            
            this.reset();
            document.getElementById('gdprConsent').checked = false;
        });

        // Initialize everything
        function initializePage() {
            // Initial render with pagination
            updatePagination();
            renderCurrentPage();
            initializeDatePicker();
        }

        // Shoot Your Shot form submission
        document.getElementById('shootShotForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            
            // Handle platform checkboxes - get all checked platforms
            const platformCheckboxes = document.querySelectorAll('input[name="shootPlatforms"]:checked');
            const selectedPlatforms = Array.from(platformCheckboxes).map(cb => cb.value);
            data.shootPlatforms = selectedPlatforms;
            
            // Handle looking for checkboxes
            const lookingForCheckboxes = document.querySelectorAll('input[name="shootLookingFor"]:checked');
            const selectedLookingFor = Array.from(lookingForCheckboxes).map(cb => cb.value);
            data.shootLookingFor = selectedLookingFor;
            
            // Handle scene type checkboxes
            const sceneTypeCheckboxes = document.querySelectorAll('input[name="shootSceneType"]:checked');
            const selectedSceneTypes = Array.from(sceneTypeCheckboxes).map(cb => cb.value);
            data.shootSceneType = selectedSceneTypes;
            
            // Handle niche checkboxes
            const nicheCheckboxes = document.querySelectorAll('input[name="shootNiche"]:checked');
            const selectedNiches = Array.from(nicheCheckboxes).map(cb => cb.value);
            data.shootNiche = selectedNiches;
            
            // Handle hosting checkboxes
            const hostingCheckboxes = document.querySelectorAll('input[name="shootHosting"]:checked');
            const selectedHosting = Array.from(hostingCheckboxes).map(cb => cb.value);
            data.shootHosting = selectedHosting;
            
            // Handle email preferences and remember me
            const emailUpdates = document.getElementById('shootEmailUpdates').checked;
            const rememberMe = document.getElementById('shootRememberMe').checked;
            
            data.shootEmailUpdates = emailUpdates;
            data.shootRememberMe = rememberMe;
            
            console.log('Shoot Your Shot submission:', data);
            alert('Link Up submitted successfully! We\'ll review your submission and get back to you soon.');
            closeShootShotModal();
        });

        // Set current month/year for shoot verification
        function setShootCurrentMonthYear() {
            const now = new Date();
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            const currentMonthYear = `${monthNames[now.getMonth()]} ${now.getFullYear()}`;
            const monthElement = document.getElementById('shootCurrentMonth');
            if (monthElement) {
                monthElement.textContent = currentMonthYear;
            }
            
            // Also set for interest modal
            const interestMonthElement = document.getElementById('currentMonth');
            if (interestMonthElement) {
                interestMonthElement.textContent = currentMonthYear;
            }
        }

        // Load saved shoot your shot data (simplified version without localStorage)
        function loadSavedShootData() {
            // This would load from localStorage in a real implementation
            // For now, just set the current month/year
            setShootCurrentMonthYear();
        }

        // URL routing functions
        function updateURL(linkUpId = null) {
            const url = new URL(window.location);
            
            if (linkUpId) {
                url.hash = `#linkup-${linkUpId}`;
            } else {
                url.hash = '';
            }
            
            window.history.pushState({ linkUpId }, '', url);
        }

        function handleURLChange() {
            const hash = window.location.hash;
            
            if (hash.startsWith('#linkup-')) {
                const linkUpId = parseInt(hash.replace('#linkup-', ''));
                if (linkUpId && linkUps.find(lu => lu.id === linkUpId)) {
                    currentLinkUpId = linkUpId;
                    const linkUp = linkUps.find(lu => lu.id === linkUpId);
                    showLinkUpDetails(linkUp);
                } else {
                    // Invalid link-up ID, go back to main view
                    currentLinkUpId = null;
                    updateURL();
                }
            } else {
                // No hash or main view
                if (currentLinkUpId) {
                    closeLinkUpDetails();
                }
                currentLinkUpId = null;
            }
        }

        // Enhanced openLinkUpPage function with URL generation
        function openLinkUpPage(linkUpId) {
            const linkUp = linkUps.find(lu => lu.id === linkUpId);
            if (linkUp) {
                currentLinkUpId = linkUpId;
                updateURL(linkUpId);
                showLinkUpDetails(linkUp);
            }
        }

        // Enhanced detailed view modal with URL support
        function showLinkUpDetails(linkUp) {
            // Create detailed modal content
            const modalContent = `
                <div class="modal" id="linkUpDetailsModal" style="display: block;">
                    <div class="modal-content" style="max-width: 800px;">
                        <div class="modal-header">
                            <span class="close" onclick="closeLinkUpDetails()">&times;</span>
                            <h2>${linkUp.creator}</h2>
                            <p>Detailed collaboration opportunity</p>
                            <div style="margin-top: 10px;">
                                <button onclick="copyLinkUpURL(${linkUp.id})" style="background: #f0f0f0; border: 1px solid #ddd; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 0.9rem;">
                                    📋 Copy Link
                                </button>
                                <span id="copyFeedback-${linkUp.id}" style="margin-left: 10px; color: #28a745; font-size: 0.85rem; display: none;">Link copied!</span>
                            </div>
                        </div>
                        <div class="form-container">
                            <div style="padding: 20px;">
                                <h3>About ${linkUp.creator}</h3>
                                <p><strong>Type:</strong> ${linkUp.type}</p>
                                <p><strong>Location:</strong> ${linkUp.location}</p>
                                <p><strong>Experience:</strong> ${linkUp.experience}</p>
                                <p><strong>Followers:</strong> ${linkUp.followers}</p>
                                
                                <h3>Project Details</h3>
                                <p>${linkUp.sceneSummary}</p>
                                
                                <h3>Requirements</h3>
                                <p>${linkUp.requirements}</p>
                                
                                <h3>Logistics</h3>
                                <p><strong>Can Host:</strong> ${linkUp.canHost}</p>
                                <p><strong>Hosting Cost:</strong> ${linkUp.hostingCost}</p>
                                <p><strong>Shoot Dates:</strong> ${linkUp.shootDates}</p>
                                
                                <h3>Platforms</h3>
                                <div style="display: flex; gap: 8px; margin: 10px 0;">
                                    ${linkUp.platforms.map(platform => `<span class="platform-tag">${platform}</span>`).join('')}
                                </div>
                                
                                <h3>Content Types</h3>
                                <div style="display: flex; gap: 8px; margin: 10px 0;">
                                    ${linkUp.contentTypes.map(type => `<span class="content-tag">${type}</span>`).join('')}
                                </div>
                                
                                <h3>Looking For</h3>
                                <div style="display: flex; gap: 8px; margin: 10px 0;">
                                    ${(linkUp.lookingFor || []).map(type => `<span class="looking-tag">${type}</span>`).join('')}
                                </div>
                                
                                <h3>Scene Types</h3>
                                <div style="display: flex; gap: 8px; margin: 10px 0;">
                                    ${(linkUp.sceneTypes || []).map(type => `<span class="scene-tag">${type}</span>`).join('')}
                                </div>
                                
                                <button class="submit-btn" onclick="openInterestModal(${linkUp.id}); closeLinkUpDetails();" style="margin-top: 20px;">Express Interest</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add to body
            document.body.insertAdjacentHTML('beforeend', modalContent);
            document.body.style.overflow = 'hidden';
        }

        function closeLinkUpDetails() {
            const modal = document.getElementById('linkUpDetailsModal');
            if (modal) {
                modal.remove();
            }
            document.body.style.overflow = 'auto';
            
            // Update URL to remove hash
            if (currentLinkUpId) {
                currentLinkUpId = null;
                updateURL();
            }
        }

        // Copy link functionality
        function copyLinkUpURL(linkUpId) {
            const url = `${window.location.origin}${window.location.pathname}#linkup-${linkUpId}`;
            
            navigator.clipboard.writeText(url).then(() => {
                // Show feedback
                const feedback = document.getElementById(`copyFeedback-${linkUpId}`);
                if (feedback) {
                    feedback.style.display = 'inline';
                    setTimeout(() => {
                        feedback.style.display = 'none';
                    }, 2000);
                }
            }).catch(err => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = url;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                // Show feedback
                const feedback = document.getElementById(`copyFeedback-${linkUpId}`);
                if (feedback) {
                    feedback.style.display = 'inline';
                    setTimeout(() => {
                        feedback.style.display = 'none';
                    }, 2000);
                }
            });
        }

        // Run initialization when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Small delay to ensure all scripts are loaded
            setTimeout(() => {
                initializePage();
                setShootCurrentMonthYear();
                // Handle any direct URL access after page loads
                handleURLChange();
            }, 100);
        });
   
        // Collaboration Knowledge Pop-up Functions
        function showCollabPopup() {
            document.getElementById('collabPopup').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeCollabPopup() {
            document.getElementById('collabPopup').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function redirectToCollabGuide() {
            alert('Redirecting to Collaboration Package purchase page...');
            closeCollabPopup();
        }

        // Close popup when clicking outside
        window.addEventListener('click', function(e) {
            const collabPopup = document.getElementById('collabPopup');
            if (e.target === collabPopup) {
                closeCollabPopup();
            }
        });

        // Handle escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeCollabPopup();
            }
        });

        // Auto-show popup after 3 seconds for demo (you can remove this)
        setTimeout(() => {
            showCollabPopup();
        }, 3000);
